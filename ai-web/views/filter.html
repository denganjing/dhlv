<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <link href="css/mobiscroll_002.css" rel="stylesheet" type="text/css">
    <link href="css/mobiscroll.css" rel="stylesheet" type="text/css">
    <link href="css/mobiscroll_003.css" rel="stylesheet" type="text/css">
    <link rel='stylesheet' href='./css/common.css' />
    <link rel='stylesheet' href='./css/filter.css' />
    <link rel='stylesheet' href='./css/micro.css' />
    <script src="/common/jquery.min.js"></script>
    <title>偏好设置</title>
  </head>
  <body>
    <ul class="filterList">
      <li>
        <h4>行程日期</h4>
        <div class="time_con">
          <div class="time">
            <label for="appDateTime">出发日期</label>
            <input value=" " class="" name="appDateTime" id="appDateTime" type="button" style="-webkit-appearance: inherit;">
          </div>
          <div class="time1">
            <label for="appTime">时间范围</label>
            <input value=" " class="" name="appTime" id="appTime" type="button" style="-webkit-appearance: inherit;">
            <label for="appTimeEnd" style="margin-right:0">~</label>
            <input value=" " class="" name="appTimeEnd" id="appTimeEnd" type="button" style="-webkit-appearance: inherit;">
            <span class="check1">结束时间不能小于出发时间</span>
          </div>
        </div>
      </li>
      <li>
        <h4>游玩强度</h4>
        <div class="button_con">
          <button level='0' class='currentB'>悠闲</button>
          <button level='1'>适中</button>
          <button level='2'>紧凑</button>   
        </div>
      </li>
      <li class="scenicBtns">
        <h4>选择热门景点<span class="check_scenic">选择景区数量不可超过3个</span></h4>
        <div class="list_con">
          <div class="sk-fading-circle">
            <div class="sk-circle2 sk-circle"></div>
            <div class="sk-circle3 sk-circle"></div>
            <div class="sk-circle4 sk-circle"></div>
            <div class="sk-circle5 sk-circle"></div>
            <div class="sk-circle6 sk-circle"></div>
            <div class="sk-circle7 sk-circle"></div>
            <div class="sk-circle8 sk-circle"></div>
            <div class="sk-circle9 sk-circle"></div>
            <div class="sk-circle10 sk-circle"></div>
            <div class="sk-circle11 sk-circle"></div>
            <div class="sk-circle12 sk-circle"></div>
          </div>
          <ul>
          </ul>
        </div>
      </li>
    </ul>

    <div class="product">
      <button type='button'>智能生成行程</button>
    </div>

    <div class="submit_container">
      <span class="submit">对不起，服务器开了个小差</span>
    </div>

    <div class="loading">
      <div class="sk-fading-circle">
          <div class="sk-circle2 sk-circle"></div>
          <div class="sk-circle3 sk-circle"></div>
          <div class="sk-circle4 sk-circle"></div>
          <div class="sk-circle5 sk-circle"></div>
          <div class="sk-circle6 sk-circle"></div>
          <div class="sk-circle7 sk-circle"></div>
          <div class="sk-circle8 sk-circle"></div>
          <div class="sk-circle9 sk-circle"></div>
          <div class="sk-circle10 sk-circle"></div>
          <div class="sk-circle11 sk-circle"></div>
          <div class="sk-circle12 sk-circle"></div>
      </div>
      <p>正在计算中...</p>
    </div>
    <!-- 时间插件的设置 -->
    <script type="text/javascript">
      var today=new Date();
      currYear = today.getFullYear(), 
      currMonth= today.getMonth(),
      currDay=today.getDate(),
      currHour=today.getHours(),
      maxDate= new Date(currYear,currMonth+6,currDay);

      var opt={};
      opt.date = {preset : 'date',minDate:new Date(currYear,currMonth,currDay)};
      opt.time = {preset : 'time',minDate:new Date(currYear,currMonth,currDay,currHour)};
      opt.datetime = {preset : 'datetime'};
      opt.default = {
        theme: 'android-ics light', 
        display: 'bottom', 
        mode: 'scroller',
        dateFormat: 'yyyy-mm-dd',
        lang: 'zh',
        showNow: false,
        nowText: "今天",
        startYear: currYear, 
        endYear: currYear + 1
      };

      $(function () {
        $("#appDateTime").mobiscroll($.extend(opt['date'], opt['default']));
      });
      timeSet();  
      $('.time input').change(function(){
        var timecheck=$('#appDateTime').val();//获取日期输入框的时间
        var arr=timecheck.split('-');
        var currMonth1=currMonth+1,currDay1,currHour1,currMinute1;
        if(currMonth<= 9){currMonth1='0'+currMonth1;}
        if(currDay<= 9){currDay1='0'+currDay;}
        $("#appTime").unbind('click')
        $("#appTimeEnd").unbind('click')
        if(currYear==arr[0]&&currMonth1==arr[1]&&currDay1==arr[2]){
          $('#appTime').val(currHour+':00');
          $('#appTimeEnd').val(currHour1+':00');
          opt.time = {preset : 'time',minDate:new Date(currYear,currMonth,currDay,currHour)};
          timeSet();
        } 
        else{
          opt.time = {preset : 'time'};
          timeSet();
        } 
      });
      function timeSet(){//初始化时间插件
        $(function () {
          var optTime = $.extend(opt['time'], opt['default']);
          $("#appTime").mobiscroll(optTime);  
          $("#appTimeEnd").mobiscroll(optTime);
        })
      }
    </script>
    <script src="/common/mobiscroll_002.js" type="text/javascript"></script>
    <script src="/common/mobiscroll_004.js" type="text/javascript"></script>
    <script src="/common/mobiscroll.js" type="text/javascript"></script>
    <script src="/common/mobiscroll_003.js" type="text/javascript"></script>
    <script src="/common/mobiscroll_005.js" type="text/javascript"></script>
    <script src='/common/JSBridge.js'></script>
    <script src='/dist/filter.bundle.js'></script>
    <script src='/dist/common.bundle.js'></script>
  </body>
</html>
